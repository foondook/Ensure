// <auto-generated />
using System.Threading.Tasks;
using System.Collections.Generic;
using System.Text.Json;
using Xunit;

namespace Ensure.Examples.xUnit
{
    public abstract class BackgroundTableTestTestsBase
    {
        protected abstract BackgroundTableTestStepsBase Steps { get; }


        [Fact]
        public async Task FirstScenario()
        {
            await Steps.SetUpTestEnvironment();
            await Steps.InitializeTestData(new()
            {
                new() { ["key"] = "patient_id", ["value"] = "123" },
                new() { ["key"] = "appointment_id", ["value"] = "456" },
                new() { ["key"] = "template_id", ["value"] = "template-1" },
                new() { ["key"] = "user_id", ["value"] = "789" },
            });
            await Steps.VerifyDataIsInitialized();
            await Steps.CheckPatientIdIs("123");
            await Steps.CheckAppointmentIdIs("456");
        }

        [Fact]
        public async Task SecondScenario()
        {
            await Steps.SetUpTestEnvironment();
            await Steps.InitializeTestData(new()
            {
                new() { ["key"] = "patient_id", ["value"] = "123" },
                new() { ["key"] = "appointment_id", ["value"] = "456" },
                new() { ["key"] = "template_id", ["value"] = "template-1" },
                new() { ["key"] = "user_id", ["value"] = "789" },
            });
            await Steps.VerifyTemplateIdIs("template-1");
            await Steps.CheckUserIdIs("789");
        }
    }
}
